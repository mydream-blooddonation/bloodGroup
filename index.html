
<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Blood Group Form</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #002b4e, #004e89);
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 500px;
      padding: 30px;
      background-color: #003b5b;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }
    .highlight {
        color: #e7e70e;
        font-weight: bold;
    }
    .red{
      color: #f30707;
       font-style: italic;
    }
    h2 {
      font-size: 26px;
      color: #ffffff;
      margin-bottom: 10px;
      text-align: center;
    }

    h4 {
      font-size: 20px;
      color: #ddd;
      margin-bottom: 20px;
      text-align: center;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      box-shadow: 0 0 5px 2px #00c3ff;
      background-color: #f0f0f0;
    }

    #submit {
      background-color: orangered;
      color: white;
      padding: 14px 20px;
      border: none;
      border-radius: 8px;
      font-size: 17px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
      width: 100%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    #submit:hover {
      background-color: #222;
      transform: scale(1.03);
    }

    #success-message {
      display: none;
      color: #d4f8d4;
      background-color: #1c7430;
      padding: 12px;
      margin-top: 15px;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
    }

    @media (max-width: 600px) {
      .container {
        padding: 20px;
        border-radius: 10px;
      }

      h2 {
        font-size: 22px;
      }
      span{color: green;}
      h4 {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <form method="post" action="" name="contact-form" id="blood-group-form">
      <h2><span class="highlight">আমাদের স্বপ্ন</span> <span class="red"> "রক্তদান"</span> সেবা</h2>
      <h4>ব্লাড গ্রুপ রেজিস্ট্রেশন ফর্ম</h4>
      
      <input type="text" name="Name" placeholder="আপনার নাম লিখুন" required>
      <input type="tel" name="Number" placeholder="মোবাইল নম্বর লিখুন" pattern="01[0-9]{9}" maxlength="11" minlength="11" required>
      <input type="email" name="Email" placeholder="ইমেইল লিখুন" required>
      <input type="number" id="age" name="Age" placeholder="বয়স লিখুন" min="16" max="65" required>
    
      <!-- নতুন যোগ করা ফিল্ডগুলো -->
      <input type="text" name="Village" placeholder="গ্রামের নাম লিখুন" required>
      <input type="text" name="Upozila" placeholder="উপজেলার নাম লিখুন " required>
      <input type="text" name="District" placeholder="জেলার নাম লিখুন" required>

      <select name="Blood-Group" required>
        <option value="">ব্লাড গ্রুপ নির্বাচন করুন</option>
        <option value="A+">A+</option>
        <option value="A-">A-</option>
        <option value="B+">B+</option>
        <option value="B-">B-</option>
        <option value="AB+">AB+</option>
        <option value="AB-">AB-</option>
        <option value="O+">O+</option>
        <option value="O-">O-</option>
      </select>

  <!-- রক্তদান সংখ্যা নির্বাচন -->
    <select id="donation-count" required>
      <option value="">কতবার রক্ত দিয়েছেন</option>
      <option value="0">0 বার</option>
      <option value="1">1 বার</option>
      <option value="2">2 বার</option>
      <option value="3">3 বার</option>
      <option value="4">4 বার</option>
      <option value="5">5 বার</option>
      <option value="6">6 বার</option>
      <option value="7">7 বার</option>
      <option value="8">8 বার</option>
      <option value="9">9 বার</option>
      <option value="10">10 বার</option>
      <option value="Other">অন্যান্য</option>
    </select>

    <!-- অন্যান্য ইনপুট ফিল্ড -->
    <div id="other-donation-count" style="display: none; margin-top: 10px;">
      <label for="donation-count-other">কতবার রক্ত দিয়েছেন লিখুন:</label>
      <input type="number" id="donation-count-other" min="11" placeholder="যেমন: 12">
    </div>




      <input type="submit" value="সাবমিট করুন" id="submit">
    </form>

    <!-- Success message -->
    <div id="success-message">✅ সাবমিশন সফল হয়েছে!</div>
  </div>



  <script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbzu8_8iCHVbLmmUeAXLf-D4f4KL8S2ObHPenxxAI3TOySHYsrrGUgJ6ljhUTSa2KTcA/exec';
const form = document.forms['contact-form'];
const submitBtn = document.getElementById('submit');
const successMsg = document.getElementById('success-message');

const donationSelect = document.getElementById('donation-count');
const donationOtherInput = document.getElementById('donation-count-other');
const otherFieldWrapper = document.getElementById('other-donation-count');

donationSelect.addEventListener('change', function () {
  if (this.value === 'Other') {
    otherFieldWrapper.style.display = 'block';
    donationOtherInput.required = true;
  } else {
    otherFieldWrapper.style.display = 'none';
    donationOtherInput.required = false;
  }
});

form.addEventListener('submit', e => {
  e.preventDefault();

  // আগের hidden input থাকলে সরিয়ে ফেলি
  const existingHidden = form.querySelector('input[name="Donation-Count"]');
  if (existingHidden) {
    form.removeChild(existingHidden);
  }

  // নতুন hidden input তৈরি করি
  const hiddenInput = document.createElement('input');
  hiddenInput.type = 'hidden';
  hiddenInput.name = 'Donation-Count';

  // যদি অন্যান্য হয়, তাহলে ইনপুট ফিল্ড থেকে সংখ্যা নিই
  if (donationSelect.value === 'Other' && donationOtherInput.value) {
    hiddenInput.value = donationOtherInput.value;
  } else {
    hiddenInput.value = donationSelect.value;
  }

  form.appendChild(hiddenInput);

  submitBtn.disabled = true;
  submitBtn.value = "সাবমিট হচ্ছে...";

  fetch(scriptURL, { method: 'POST', body: new FormData(form) })
    .then(response => {
      form.reset();
      otherFieldWrapper.style.display = 'none';

      const postSubmitHidden = form.querySelector('input[name="Donation-Count"]');
      if (postSubmitHidden) {
        form.removeChild(postSubmitHidden);
      }

      successMsg.style.display = "block";
      successMsg.innerText = "✅ সাবমিশন সফল হয়েছে!";
      setTimeout(() => {
        successMsg.style.display = "none";
      }, 3000);
    })
    .catch(error => {
      successMsg.style.display = "block";
      successMsg.innerText = "❌ সাবমিশনে সমস্যা হয়েছে!";
    })
    .finally(() => {
      submitBtn.disabled = false;
      submitBtn.value = "সাবমিট করুন";
    });
});

</script>


</body>
</html>
